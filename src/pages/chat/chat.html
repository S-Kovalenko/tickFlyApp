<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>
      <img src="{{interlocutor.avatar}}">
      {{interlocutor.nickname}}
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="ion-content">
    <div *ngIf="!chat.messages.length">История сообщения пуста, пока</div>
    <div *ngIf="chat.messages.length">
      <div *ngFor="let message of chat.messages">
      <span
        class="message-block"
        [ngClass]="(message.userId==userId)?'message-right':'message-left'">
        {{message.message}}
      </span>
      </div>
    </div>
  </div>
  <ion-toolbar>
    <form (ngSubmit)="sendMessage(f)" #f="ngForm">
      <div class="comment-form">
        <ion-input class="comment-form-input" type="text" placeholder="Напишите свое сообщение..." name="message"
                   [ngModel]="message"></ion-input>
        <button type="submit" class="comment-form-button">
          <ion-icon name="md-send" large></ion-icon>
        </button>
      </div>
    </form>
  </ion-toolbar>
</ion-content>
